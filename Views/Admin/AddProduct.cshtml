
@{
    ViewBag.Title = "AddProduct";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

@model EadProject.Models.Product
@Scripts.Render("~/bundles/jquery")
<script type="text/javascript">
        $(document).ready(function()
        {
            $('#checking').hide();
            $('#icon1').hide();
            $('#icon2').hide();
            $('#result123').hide();
            var execute = false;

            $("#submit").click(function () {
                $('#icon1').hide();
                $('#icon2').hide();
                //here
                if (execute == false) {
                    event.preventDefault();
                }


            });


            //ajax username verification
            $('#ProductName').keyup(f2);
            function f2(){
                var productName = $('#ProductName').val();
                var length = productName.length;
                //alert('User Name ='+ userName);
                $('#checking').show();
                $('#result123').hide();
                $('#icon2').hide();
                $('#icon1').hide();
                $.getJSON("/Admin/CheckProductName?ProductName=" + productName, function (data) {
                    $('#checking').hide();
                    if (parseInt(length) == 0) {
                        $('#checking').hide();
                        $('#result123').text("Please enter your desired Product Name!!!");
                        $('#result123').show();
                        $('#icon2').show();
                        $('#icon1').hide();
                        execute = false;
                    }
                    else if (data) {
                        $('#result123').text("Product already exists in database!!!");
                        $('#result123').show();
                        $('#icon2').show();
                        $('#icon1').hide();
                        execute = false;
                    }
                    else {
                        $('#result123').text("Product Name is available  ");
                        $('#result123').show();
                        $('#icon1').show();
                        $('#icon2').hide();
                        execute = true;

                    }
                });


            }

            function readURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        $('#blah').attr('src', e.target.result);
                    }

                    reader.readAsDataURL(input.files[0]);
                }
            }

            $("#fil").change(function () {
                readURL(this);
            });

        });
</script>
<style>
    .fileUpload {
        position: relative;
        overflow: hidden;
        margin: 10px;
    }

        .fileUpload input.upload {
            position: absolute;
            top: 0;
            right: 0;
            margin: 0;
            padding: 0;
            font-size: 20px;
            cursor: pointer;
            opacity: 0;
            filter: alpha(opacity=0);
        }
</style>

<br />
<div class="row">
    <h1 align="center">Add Product</h1>
    <hr />
</div>
<div class="row">
    <form action="~/Admin/AdminIndex" method="post" class="form pull-right">
        <button type="submit" id="back" class="btn " style=" background-color:#C00033"><span class="glyphicon glyphicon-arrow-left"><b> Back To Main</b></span></button>

    </form>

</div>
<div class="row">
    <br />
    <form action="~/Admin/add" method="post" enctype="multipart/form-data">
        <label class="col-md-2 control-label" for="name">Product description</label>
        <div class="form-group">
            <input type="text" class="form-control input-lg" name="ProductName" id="ProductName" required>
        </div>
        <div class="col-lg-offset-3" id="checking">Checking...</div>
        <div class="col-lg-offset-2" id="result123" style="float: left">
        </div>
        <p id="icon1"><span class="glyphicon glyphicon-ok"></span></p>
        <p id="icon2"><span class="glyphicon glyphicon-remove"></span></p>
        <br />
        <label class="col-md-2 control-label" for="name">Price</label>
        <div class="form-group">
            <input type="text" class="form-control input-lg" id="Price" name="Price" required>
        </div>
        <label class="col-md-2 control-label" for="name">Quantity</label>
        <div class="form-group">
            <select name="Quantity" id="Quantity">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
                <option value="13">13</option>
                <option value="14">14</option>
                <option value="15">15</option>
                <option value="16">16</option>
                <option value="17">17</option>
                <option value="18">18</option>
                <option value="19">19</option>
                <option value="20">20</option>
                <option value="21">21</option>
                <option value="22">22</option>
                <option value="23">23</option>
                <option value="24">24</option>
                <option value="25">25</option>
                <option value="26">26</option>
                <option value="27">27</option>
                <option value="28">28</option>
                <option value="29">29</option>
                <option value="30">30</option>
                <option value="31">31</option>
                <option value="32">32</option>
                <option value="33">33</option>
                <option value="34">34</option>
                <option value="35">35</option>
                <option value="36">36</option>
                <option value="37">37</option>
                <option value="38">38</option>
                <option value="39">39</option>
                <option value="40">40</option>
                <option value="41">41</option>
                <option value="42">42</option>
                <option value="43">43</option>
                <option value="44">44</option>
                <option value="45">45</option>
                <option value="46">46</option>
                <option value="47">47</option>
                <option value="48">48</option>
                <option value="49">49</option>
                <option value="50">50</option>
            </select>
        </div>
        <label class="col-md-2 control-label" style="color:white"><b>Product For: </b></label>
        <div class="form-group">
            <input checked type="radio" name="MorW" id="MorW" value="Man"><b> <label style="color:white">Man  </label></b></>
            <input type="radio" name="MorW" id="MorW" value="Woman"><b> <label style="color:white"> Woman </label> </b></>
        </div>
        <div class="form-group fileUpload btn btn-primary">
            <span>Upload Image</span>
            <input type="file" class="upload" id="fil" accept="image/*" name="Path" required />
        </div>
        <div class="form-group ">
            <img id="blah" src="#" alt="your image" />
        </div>
        <button type="submit" id="submit" class="btn " style=" background-color:#C00033 ; width:20em "><b>Add Product</b></button>

    </form>
</div>
<hr />

